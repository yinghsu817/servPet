<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ServPET</title>

<link rel="stylesheet" href="/css/pg/selectPage.css">

</head>
<body>
	<header>
		<h1>servPet</h1>
		<nav>
			<ul>
				<li><a href="#" th:href="@{/}">首頁</a></li>
				<li><a href="#" th:href="@{/pg}">寵物美容師</a></li>
				<li><a href="#" th:href="@{/pg/listRealAllPgSvcItem}">寵物美容服務項目管理</a></li>
				<li><a href="#" th:href="@{/pg/showAllPgSvcItem}">寵物美容介紹</a></li>
				<li><a href="#" th:href="@{/}">登出</a></li>
			</ul>
		</nav>
	</header>

	<main>
		<section class="search">

			<div>
				<select class="area" th:name="pgArea">
					<option value="0" th:value="0" th:selected="${pgArea == 0}">北部</option>
					<option value="1" th:value="1" th:selected="${pgArea == 1}">中部</option>
					<option value="2" th:value="2" th:selected="${pgArea == 2}">南部</option>
					<option value="3" th:value="3" th:selected="${pgArea == 3}">東部</option>
				</select>

			</div>

			<form th:action="@{/pg/search}" method="get">
				<div>
					<select class="other" th:name="searchBy">
						<option value="1" th:value="1">美容師ID</option>
						<option value="2" th:value="2">美容師姓名</option>

					</select> <input type="search" th:name="keyword" placeholder="請輸入美容師ID/姓名">
					<button type="submit">Search</button>
				</div>
			</form>
		</section>

		<section class="view">
			<div class="table_container">

				<ul class="item_list">
					<li th:each="pgVO : ${list}">
						<div class="img_block">
							<a th:href="@{/pg/listOnePg(pgId=${pgVO.pgId})}"
								class="profileimg-button"> 
							<img
								th:if="${pgVO.pgPic != null}"
								th:src="@{/pg/profileimg(pgId=${pgVO.pgId})}"
								th:alt="${pgVO.pgName}">
							</a>
						</div> 
						<span class="item_text" th:text="${pgVO.pgName}"></span>
						<span class="item_text">
							<div th:switch="${pgVO.pgArea}">
								<div th:case="0">北部</div>
								<div th:case="1">中部</div>
								<div th:case="2">南部</div>
								<div th:case="3">東部</div>
							</div></span> 
						<span th:if="${pgVO.pgPic == null}">尚無圖片</span>
						<!-- 新增星等顯示 -->
			            <span class="item_text">
			                <span th:if="${starDisplayMap[pgVO.pgId] != ''}" 
			                      th:text="${starDisplayMap[pgVO.pgId]}"></span>
			                <span th:if="${starDisplayMap[pgVO.pgId] == ''}">尚無評價</span>
			            </span>

					</li>
				</ul>
			</div>
		</section>
	</main>

	<footer>
		<p>Copyright &copy; 2024 ServPET 寵寵唯蹟 All Rights Reserved.</p>
	</footer>
</body>
</html>
